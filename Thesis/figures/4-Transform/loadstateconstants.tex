\begin{algorithm}
    $\textcolor{Green}{truePc} \leftarrow$ value of pc in state file\\
    $\textcolor{Green}{maxPc} \leftarrow$ number of addresses in BTOR2 model\\
    \textcolor{Green}{pcValue} $\leftarrow \textcolor{Green}{truePc}$ modulo $\textcolor{Green}{maxPc}$\\
    add to model:\\
    \begin{tabular}[h]{>{\color{UniRed}}r l >{\color{UniGrey}}l l >{\slshape} l}
        \hline
        \hline
        \ttfamily
        n & constd & AS & \textcolor{Green}{\rmfamily\textsl{pcValue}} & pcConst \\
        \hline
        \hline
    \end{tabular}\\
    \BlankLine

    \For{every register \textcolor{Green}{$x_i$}}{ \If{register is
            initialised in state file}{ \textcolor{Green}{$registerValue$}
            $\leftarrow$ value of \textcolor{Green}{$x_i$}\\
            \If{\textcolor{Green}{$registerValue$} $\neq 0$}{ add to model:\\
                \begin{tabular}[h]{>{\color{UniRed}}r l >{\color{UniGrey}}l l >{\slshape} l}
                    \hline
                    \hline
                    \ttfamily
                    n & constd & D & \textcolor{Green}{\rmfamily$registerValue$} & \textcolor{Green}{$x_i$}Const \\
                    \hline
                    \hline
                \end{tabular}\\
            }
        }
    }
    \BlankLine
    add to model:\\

    \begin{tabular}[h]{>{\ttfamily\color{UniRed}}r >{\ttfamily}l >{\ttfamily\color{UniGrey}}l >{\ttfamily}l >{\slshape} l}
        \hline
        \hline
        (n + 0) & state & Mem &                                         & memPH \\
        (n + 1) & init  & Mem & \textcolor{UniRed}{(n + 0) $emptyCell$} &       \\
        \hline
        \hline
    \end{tabular}\\

    $\textcolor{Green}{lastPH} \leftarrow \textcolor{UniRed}{memPH}$\\
    $\textcolor{Green}{initialCells} \leftarrow$ initialised memory cells
    in state file with address under maxPc\\

    \For{every cell \textcolor{Green}{$c$} in
        \color{Green}$cutInitialCells$}{ $\textcolor{Green}{address}
            \leftarrow$ address of \textcolor{Green}{$c$}\\
        $\textcolor{Green}{value} \leftarrow$ value of
        \textcolor{Green}{$c$}\\ add to model:\\
        \begin{tabular}[h]{>{\ttfamily\color{UniRed}}r >{\ttfamily}l >{\ttfamily\color{UniGrey}}l >{\ttfamily}l >{\slshape} l}
            \hline
            \hline
            \ttfamily
            (n + 0) & constd & AS  & \textcolor{Green}{\rmfamily$address$}                &                             \\
            (n + 1) & constd & B   & \textcolor{Green}{\rmfamily$value$}                  &                             \\
            (n + 2) & write  & Mem & \textcolor{Green}{\textrm{$lastPH$} (n + 0) (n + 1)} & PHAfter\textcolor{Green}{C} \\
            \hline
            \hline
        \end{tabular}\\
        $\textcolor{Green}{lastPH} \leftarrow \textcolor{UniRed}{PHAfter\textcolor{Green}{c}}$\\
    }
    keep  $\textcolor{Green}{lastPH}$ for initialisation

    \caption[Transferring Initialization Constants from .state
        File]{Transferring Initialization Constants from the .state File into
        the BTOR2 Model}\label{alg:generateconstantsfromstate}
\end{algorithm}